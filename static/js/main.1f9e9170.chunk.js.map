{"version":3,"sources":["components/WorkersList/WorkersList.module.css","components/Header/Header.js","components/GetData/GetData.js","components/SortByRole/SortByRole.js","components/SortByStatus/SortByStatus.js","components/SearchBar/SearchBar.js","components/Worker/Worker.js","components/WorkersList/WorkersList.js","components/SelectedWorker/SelectedWorker.js","components/App/App.js","index.js","components/App/App.module.css"],"names":["module","exports","Header","className","src","alt","React","Component","a","data","fetch","then","response","status","console","log","json","catch","err","GetData","SortByRole","onFilterByRole","this","props","id","onChange","value","defaultValue","SortByStatus","onFilterByStatus","type","onClick","htmlFor","SearchBar","onFilterByName","request","placeholder","Worker","list","selectWorker","age","birthday","slice","currentYear","Date","getFullYear","isArchive","name","role","phone","WorkersList","onClickSort","onClickSortAge","styles","titles","map","i","key","SelectedWorker","array","search","checkedWorker","filter","item","Object","keys","some","imgSrc","undefined","image","App","state","sortUp","isLoading","showArchive","setList","newList","setState","getListWorkers","event","currentTarget","e","sort","dynamicSort","target","property","sortOrder","substr","b","result","newlist","filterRequest","filterByRole","filterByName","callback","selectedRole","document","getElementById","toLowerCase","worker","includes","ReactDOM","render"],"mappings":"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","file":"static/js/main.1f9e9170.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"WorkersList_table__JPrCl\",\"titles\":\"WorkersList_titles__2P-WE\"};","import React from 'react';\r\n\r\nclass Header extends React.Component {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div>\r\n        <img className='col-4 col-md-3 col-lg-1' src='images/logo.png' alt='Workers search' />\r\n        <h1>Workers search</h1>\r\n        <p>Поиск и сортировка сотрудников</p>\r\n      </div>\r\n    ); \r\n  }\r\n}\r\n\r\nexport default Header;","async function GetData() {\r\nlet data = fetch('db.json')\r\n    .then(response => {\r\n      if (response.status !== 200) {\r\n        console.log('Looks like there was a problem. Status Code: ' + response.status);\r\n\r\n        return false;\r\n      } else return response.json().then(data => { return data });      \r\n    }).catch(function(err) {\r\n      console.log('Fetch Error :-S', err);\r\n      \r\n      return false;\r\n    });\r\n  return data;\r\n}\r\n\r\nexport default GetData;\r\n\r\n","import React from 'react';\r\n\r\nclass SortByRole extends React.Component {\r\n  render() {\r\n    const { onFilterByRole } = this.props;\r\n\r\n    return (\r\n      <div  className='col-7 col-sm-3 col-md-2 p-0'>\r\n        <select className=\"custom-select\" id=\"inlineFormCustomSelectPref\" onChange={onFilterByRole}>\r\n          <option value=\"all\" defaultValue>All...</option>\r\n          <option value=\"driver\">Deriver</option>\r\n          <option value=\"waiter\">Waiter</option>\r\n          <option value=\"cook\">Cook</option>\r\n        </select>\r\n      </div>\r\n    )\r\n  };\r\n};\r\n\r\nexport default SortByRole;","import React from 'react';\r\n\r\nclass SortByStatus extends React.Component {\r\n  render () {\r\n    const { onFilterByStatus } = this.props;\r\n\r\n    return (\r\n      <div className=\"custom-control custom-switch col-5 col-sm-3 col-md-2 pt-2 pr-0\" >      \r\n        <input type=\"checkbox\" className=\"custom-control-input\" id=\"customSwitch1\" onClick={onFilterByStatus}/>\r\n        <label className=\"custom-control-label cursor-hend\" htmlFor=\"customSwitch1\">\r\n          В архиве\r\n        </label>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default SortByStatus;","import React from 'react';\r\nimport SortByRole from '../SortByRole/SortByRole';\r\nimport SortByStatus from '../SortByStatus/SortByStatus';\r\n\r\nclass SearchBar extends React.Component {\r\n\r\n  render() {\r\n    const { onFilterByStatus, onFilterByRole, onFilterByName, request } = this.props;\r\n\r\n    return (\r\n      <div className=\"row justify-content-between\">\r\n        <div className=\"form-group col-12 col-sm-6 col-md-7 p-0\">\r\n          <input id='search'\r\n            defaultValue={request}\r\n            onChange={onFilterByName}\r\n            type=\"text\" className=\"form-control\"\r\n            placeholder=\"Search worker by name...\"/>\r\n        </div>\r\n        <SortByRole onFilterByRole={onFilterByRole} />\r\n        <SortByStatus onFilterByStatus={onFilterByStatus} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default SearchBar;","import React from 'react';\r\n\r\nclass Worker extends React.Component {\r\n  \r\n\r\n  render() {\r\n    const { list, selectWorker } = this.props;\r\n    const age = () => {\r\n      let age = list.birthday.slice(-4),\r\n          currentYear =  new Date();   \r\n\r\n      age = +age;\r\n      currentYear = currentYear.getFullYear();\r\n      \r\n      return currentYear - age;\r\n    };\r\n    \r\n    let isArchive = list.isArchive ? 'isArchive wrapper-td border-bottom border-white' : 'wrapper-td border-bottom border-white';    \r\n\r\n    age();\r\n\r\n    return (\r\n      <tr className={isArchive}  onClick={ selectWorker } id={list.id}>      \r\n        <td className='border-0 p-2'>{list.name}</td>\r\n        <td className='border-0 p-2'>{list.role}</td>\r\n        <td className='border-0 p-2'>{age()}</td>\r\n        <td className='border-0 p-2'>{list.phone}</td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Worker;\r\n","import React from 'react';\r\nimport Worker from '../Worker/Worker';\r\nimport styles from './WorkersList.module.css';\r\n\r\nclass WorkersList extends React.Component { \r\n\r\n  render () {\r\n    const { list, selectWorker, onClickSort, onClickSortAge } = this.props;   \r\n\r\n    return (\r\n      <div className='col-12 col-sm-8 col-md-9 p-0 pl-sm-4 rounded'>\r\n        <table className=\"tilles table table-striped\">\r\n          <thead>\r\n          <tr className={styles.titles}>\r\n            <th className='tr-full cursor-hend' id='name' onClick={onClickSort}>Name</th>\r\n            <th className='tr-full cursor-hend' id='role' onClick={onClickSort}>Role</th>\r\n            <th className='tr-full cursor-hend' id='age' onClick={onClickSortAge}>Age</th>\r\n            <th>Phone</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n            { list.map(i => {\r\n              return (\r\n                <Worker\r\n                  key  = {i.id}\r\n                  list = {i}                \r\n                  selectWorker={selectWorker}\r\n                />\r\n              )})\r\n            }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default WorkersList;","import React, {Component} from 'react';\r\n\r\nexport default class SelectedWorker extends Component {\r\n\r\n  render() {\r\n    const {list, checkedWorker} = this.props;\r\n\r\n    let newList = getId(list, checkedWorker +1)[0],\r\n        data = {...newList},\r\n        imgSrc = (data.image === undefined) ? 'images/react.svg' : 'images/' + data.image + '.svg';\r\n\r\n    function getId(array, search) {\r\n\r\n      return array.filter(function(item) {\r\n\r\n        return Object.keys(item).some(function(key) {\r\n\r\n          return item[key] === search\r\n        });\r\n      });\r\n    }\r\n\r\n    return (\r\n      <div className=\"col-12 col-sm-4 col-md-3 mb-4 p-0\">\r\n        <div className=\"bg-secondary p-0 pb-2 rounded\">\r\n          <div>\r\n            <img src={imgSrc} alt='Workers avatar' className='col-8 col-sm-12'></img>\r\n          </div>\r\n          <p className='bg-dark p-2'>{data.name}</p>\r\n          <p>{data.role}</p>\r\n          <p>{data.phone}</p>\r\n          <p>{data.birthday}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};","import React from 'react';\nimport Header from '../Header/Header';\nimport styles from './App.module.css';\nimport GetData from '../GetData/GetData';\nimport SearchBar from '../SearchBar/SearchBar';\nimport WorkersList from '../WorkersList/WorkersList';\nimport SelectedWorker from '../SelectedWorker/SelectedWorker';\n\nclass App extends React.Component {\n  state = {\n    list: [],\n    sortUp: false,\n    request: '',\n    isLoading: false,\n    checkedWorker: 0,\n    showArchive: false\n  }\n\n  componentDidMount() { this.getListWorkers(); }\n  setList = (newList) => { this.setState({ list: newList }) }\n\n  getListWorkers = () => {\n    GetData().then(data => {\n      if (data !== 0) {\n        this.setState({\n          list: data,\n          isLoading: true,\n          checkedWorker: data[0]\n        });\n      }\n    });\n  }\n\n  selectWorker = (event) => {\n    this.setState({ checkedWorker: event.currentTarget.id - 1 })\n  }\n\n  onClickSort = (e) => {\n    let list = [...this.state.list];\n\n    list = list.sort(this.dynamicSort(e.target.id));\n    this.setState({ list: list });\n  };\n\n  dynamicSort = (property) => {\n    let sortOrder = 1;\n\n    if (property[0] === \"-\") {\n      sortOrder = -1;\n      property = property.substr(1);\n    }\n\n    return (a, b) => {\n      let result = undefined;\n\n      if (this.state.sortUp === true ) {\n        result = (a[property] > b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n        this.setState({sortUp: false });\n      } else {\n        result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n        this.setState({sortUp: true });\n      }\n\n      return result * sortOrder;\n    };\n  };\n\n  onClickSortAge = () => {\n    const newlist = this.state.list.sort((a, b) => a.age > b.age ? 1 : -1);\n\n    this.setList(newlist);\n  }\n\n  onFilterByStatus = () => {\n    if (this.state.showArchive !== true) {\n      let newList = this.state.list.filter(i => { return i.isArchive });\n      this.setList(newList);\n    } else this.getListWorkers();\n\n    this.setState({ showArchive: !this.state.showArchive });\n  }\n\n  onFilterByRole = () => { this.filterRequest(this.filterByRole) };\n  onFilterByName = () => { this.filterRequest(this.filterByName) };\n\n  filterRequest = (callback) => {\n    GetData().then(data => { \n      this.setList(data);\n      callback();\n    });\n  }\n\n  filterByRole = () => {\n    let list = [];\n\n    const selector = document.getElementById('inlineFormCustomSelectPref'),\n          selectedRole = selector.value;\n\n    if (selectedRole === 'all') { list = this.state.list }\n    else { list = this.state.list.filter(i => { if (i.role === selectedRole) return i }) }\n\n    this.setList(list);\n  }\n\n  filterByName = () => {\n    const search = document.getElementById('search'),\n          value = search.value.toLowerCase();    \n\n    let list = this.state.list.filter(\n      worker => { return worker.name.toLowerCase().includes(value) }\n    )\n    this.setState({\n      list: list,\n      request: value\n    });\n  }\n\n  render () {\n\n    return (\n      <div className={styles.App}>\n        <Header />\n        <div className=\"container content p-4\">\n          <div className=\"col-12 mb-4\">\n            <SearchBar\n              request={this.request}\n              onFilterByName={this.onFilterByName}\n              onFilterByStatus={this.onFilterByStatus}\n              onFilterByRole={this.onFilterByRole}\n            />\n          </div>\n          <div className='col-12 row m-0 p-0'>\n            <SelectedWorker\n              list={this.state.list}\n              checkedWorker={this.state.checkedWorker}\n            />\n            <WorkersList\n              list={this.state.list}\n              selectWorker={this.selectWorker}\n              onClickSort={this.onClickSort}\n              onClickSortAge={this.onClickSortAge}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__aOmNj\"};"],"sourceRoot":""}