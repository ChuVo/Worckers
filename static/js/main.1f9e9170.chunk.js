(window.webpackJsonpworkers=window.webpackJsonpworkers||[]).push([[0],{11:function(e,t,r){e.exports={table:"WorkersList_table__JPrCl",titles:"WorkersList_titles__2P-WE"}},14:function(e,t,r){e.exports=r(22)},21:function(e,t,r){},22:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(8),o=r.n(c),l=r(13),s=r(1),i=r(2),u=r(4),m=r(3),p=r(5),h=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("img",{className:"col-4 col-md-3 col-lg-1",src:"images/logo.png",alt:"Workers search"}),a.a.createElement("h1",null,"Workers search"),a.a.createElement("p",null,"\u041f\u043e\u0438\u0441\u043a \u0438 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"))}}]),t}(a.a.Component),d=r(9),f=r.n(d),b=r(6),v=r.n(b),y=r(10);function k(){return(k=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fetch("db.json").then((function(e){return 200!==e.status?(console.log("Looks like there was a problem. Status Code: "+e.status),!1):e.json().then((function(e){return e}))})).catch((function(e){return console.log("Fetch Error :-S",e),!1})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(){return k.apply(this,arguments)},j=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.onFilterByRole;return a.a.createElement("div",{className:"col-7 col-sm-3 col-md-2 p-0"},a.a.createElement("select",{className:"custom-select",id:"inlineFormCustomSelectPref",onChange:e},a.a.createElement("option",{value:"all",defaultValue:!0},"All..."),a.a.createElement("option",{value:"driver"},"Deriver"),a.a.createElement("option",{value:"waiter"},"Waiter"),a.a.createElement("option",{value:"cook"},"Cook")))}}]),t}(a.a.Component),E=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.onFilterByStatus;return a.a.createElement("div",{className:"custom-control custom-switch col-5 col-sm-3 col-md-2 pt-2 pr-0"},a.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customSwitch1",onClick:e}),a.a.createElement("label",{className:"custom-control-label cursor-hend",htmlFor:"customSwitch1"},"\u0412 \u0430\u0440\u0445\u0438\u0432\u0435"))}}]),t}(a.a.Component),g=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onFilterByStatus,r=e.onFilterByRole,n=e.onFilterByName,c=e.request;return a.a.createElement("div",{className:"row justify-content-between"},a.a.createElement("div",{className:"form-group col-12 col-sm-6 col-md-7 p-0"},a.a.createElement("input",{id:"search",defaultValue:c,onChange:n,type:"text",className:"form-control",placeholder:"Search worker by name..."})),a.a.createElement(j,{onFilterByRole:r}),a.a.createElement(E,{onFilterByStatus:t}))}}]),t}(a.a.Component),w=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.list,r=e.selectWorker,n=function(){var e=t.birthday.slice(-4),r=new Date;return e=+e,(r=r.getFullYear())-e},c=t.isArchive?"isArchive wrapper-td border-bottom border-white":"wrapper-td border-bottom border-white";return n(),a.a.createElement("tr",{className:c,onClick:r,id:t.id},a.a.createElement("td",{className:"border-0 p-2"},t.name),a.a.createElement("td",{className:"border-0 p-2"},t.role),a.a.createElement("td",{className:"border-0 p-2"},n()),a.a.createElement("td",{className:"border-0 p-2"},t.phone))}}]),t}(a.a.Component),N=r(11),S=r.n(N),C=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.list,r=e.selectWorker,n=e.onClickSort,c=e.onClickSortAge;return a.a.createElement("div",{className:"col-12 col-sm-8 col-md-9 p-0 pl-sm-4 rounded"},a.a.createElement("table",{className:"tilles table table-striped"},a.a.createElement("thead",null,a.a.createElement("tr",{className:S.a.titles},a.a.createElement("th",{className:"tr-full cursor-hend",id:"name",onClick:n},"Name"),a.a.createElement("th",{className:"tr-full cursor-hend",id:"role",onClick:n},"Role"),a.a.createElement("th",{className:"tr-full cursor-hend",id:"age",onClick:c},"Age"),a.a.createElement("th",null,"Phone"))),a.a.createElement("tbody",null,t.map((function(e){return a.a.createElement(w,{key:e.id,list:e,selectWorker:r})})))))}}]),t}(a.a.Component),B=r(12);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var F=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,r=this.props,n=r.list,c=r.checkedWorker,o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(r,!0).forEach((function(t){Object(B.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(e=n,t=c+1,e.filter((function(e){return Object.keys(e).some((function(r){return e[r]===t}))})))[0]),l=void 0===o.image?"images/react.svg":"images/"+o.image+".svg";return a.a.createElement("div",{className:"col-12 col-sm-4 col-md-3 mb-4 p-0"},a.a.createElement("div",{className:"bg-secondary p-0 pb-2 rounded"},a.a.createElement("div",null,a.a.createElement("img",{src:l,alt:"Workers avatar",className:"col-8 col-sm-12"})),a.a.createElement("p",{className:"bg-dark p-2"},o.name),a.a.createElement("p",null,o.role),a.a.createElement("p",null,o.phone),a.a.createElement("p",null,o.birthday)))}}]),t}(n.Component),A=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(r=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={list:[],sortUp:!1,request:"",isLoading:!1,checkedWorker:0,showArchive:!1},r.setList=function(e){r.setState({list:e})},r.getListWorkers=function(){O().then((function(e){0!==e&&r.setState({list:e,isLoading:!0,checkedWorker:e[0]})}))},r.selectWorker=function(e){r.setState({checkedWorker:e.currentTarget.id-1})},r.onClickSort=function(e){var t=Object(l.a)(r.state.list);t=t.sort(r.dynamicSort(e.target.id)),r.setState({list:t})},r.dynamicSort=function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,a){var c=void 0;return!0===r.state.sortUp?(c=n[e]>a[e]?-1:n[e]>a[e]?1:0,r.setState({sortUp:!1})):(c=n[e]<a[e]?-1:n[e]>a[e]?1:0,r.setState({sortUp:!0})),c*t}},r.onClickSortAge=function(){var e=r.state.list.sort((function(e,t){return e.age>t.age?1:-1}));r.setList(e)},r.onFilterByStatus=function(){if(!0!==r.state.showArchive){var e=r.state.list.filter((function(e){return e.isArchive}));r.setList(e)}else r.getListWorkers();r.setState({showArchive:!r.state.showArchive})},r.onFilterByRole=function(){r.filterRequest(r.filterByRole)},r.onFilterByName=function(){r.filterRequest(r.filterByName)},r.filterRequest=function(e){O().then((function(t){r.setList(t),e()}))},r.filterByRole=function(){var e=[],t=document.getElementById("inlineFormCustomSelectPref").value;e="all"===t?r.state.list:r.state.list.filter((function(e){if(e.role===t)return e})),r.setList(e)},r.filterByName=function(){var e=document.getElementById("search").value.toLowerCase(),t=r.state.list.filter((function(t){return t.name.toLowerCase().includes(e)}));r.setState({list:t,request:e})},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getListWorkers()}},{key:"render",value:function(){return a.a.createElement("div",{className:f.a.App},a.a.createElement(h,null),a.a.createElement("div",{className:"container content p-4"},a.a.createElement("div",{className:"col-12 mb-4"},a.a.createElement(g,{request:this.request,onFilterByName:this.onFilterByName,onFilterByStatus:this.onFilterByStatus,onFilterByRole:this.onFilterByRole})),a.a.createElement("div",{className:"col-12 row m-0 p-0"},a.a.createElement(F,{list:this.state.list,checkedWorker:this.state.checkedWorker}),a.a.createElement(C,{list:this.state.list,selectWorker:this.selectWorker,onClickSort:this.onClickSort,onClickSortAge:this.onClickSortAge}))))}}]),t}(a.a.Component);r(20),r(21);o.a.render(a.a.createElement(A,null),document.getElementById("root"))},9:function(e,t,r){e.exports={App:"App_App__aOmNj"}}},[[14,1,2]]]);
//# sourceMappingURL=main.1f9e9170.chunk.js.map